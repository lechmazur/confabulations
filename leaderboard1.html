<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Leaderboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #121212;
            color: #e0e0e0;
        }
        h1, h2 {
            color: #bb86fc;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #333;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #1e1e1e;
        }
        .slider-container {
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #weightSlider {
            width: 300px;
            margin: 0 10px;
        }
        #chartContainer {
            margin-top: 20px;
            height: 600px;
        }
        .note {
            font-style: italic;
            color: #bb86fc;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Confabulations (Hallucinations) Model Leaderboard</h1>
    
    <div class="slider-container">
        <label>Confabulations Weight: <span id="confabWeightValue">50</span>%</label>
        <input type="range" id="weightSlider" min="0" max="100" value="50">
        <label>Non-Response Rate Weight: <span id="nonResponseWeightValue">50</span>%</label>
    </div>
    
    <table id="leaderboard">
        <thead>
            <tr>
                <th>Rank</th>
                <th>Model Name</th>
                <th>Confabulations (%)</th>
                <th>Non-Response Rate (%)</th>
                <th>Weighted Score</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <h2>Weighted Scores (Lower is Better)</h2>
    <div id="chartContainer">
        <canvas id="leaderboardChart"></canvas>
    </div>

    <script>
        const data = [
    {
        "name": "Claude 3.5 Sonnet Old",
        "confabulations": 27.027027027027028,
        "nonResponse": 16.13300492610837
    },
    {
        "name": "Claude 3 Haiku",
        "confabulations": 57.2972972972973,
        "nonResponse": 10.42692939244663
    },
    {
        "name": "Multi-turn ensemble",
        "confabulations": 11.35135135135135,
        "nonResponse": 8.53858784893267
    },
    {
        "name": "DeepSeek-V3",
        "confabulations": 21.08108108108108,
        "nonResponse": 14.490968801313631
    },
    {
        "name": "DeepSeek-V2.5",
        "confabulations": 33.51351351351351,
        "nonResponse": 25.57471264367816
    },
    {
        "name": "Gemini 1.5 Pro (Sept)",
        "confabulations": 16.75675675675675,
        "nonResponse": 9.729064039408861
    },
    {
        "name": "Gemini 2.0 Flash",
        "confabulations": 23.24324324324324,
        "nonResponse": 30.25451559934319
    },
    {
        "name": "Gemini 2.0 Flash Exp",
        "confabulations": 23.24324324324324,
        "nonResponse": 29.926108374384242
    },
    {
        "name": "Gemini 2.0 Flash Think Exp 01-21",
        "confabulations": 12.97297297297297,
        "nonResponse": 10.139573070607549
    },
    {
        "name": "Gemini 2.0 Pro Exp 02-05",
        "confabulations": 12.99435028248587,
        "nonResponse": 20.9555741827326
    },
    {
        "name": "Gemini 1.5 Flash",
        "confabulations": 42.16216216216216,
        "nonResponse": 5.21346469622331
    },
    {
        "name": "Gemma 2 27B",
        "confabulations": 44.32432432432432,
        "nonResponse": 7.10180623973727
    },
    {
        "name": "GPT-4o",
        "confabulations": 18.37837837837838,
        "nonResponse": 8.49753694581281
    },
    {
        "name": "GPT-4o mini",
        "confabulations": 57.2972972972973,
        "nonResponse": 13.587848932676511
    },
    {
        "name": "GPT-4 Turbo",
        "confabulations": 23.78378378378378,
        "nonResponse": 31.40394088669951
    },
    {
        "name": "Grok Beta",
        "confabulations": 24.32432432432432,
        "nonResponse": 23.35796387520525
    },
    {
        "name": "Grok 2",
        "confabulations": 24.32432432432432,
        "nonResponse": 22.74220032840722
    },
    {
        "name": "Grok 2 12-12",
        "confabulations": 24.32432432432432,
        "nonResponse": 14.532019704433491
    },
    {
        "name": "Claude 3.5 Haiku",
        "confabulations": 63.24324324324324,
        "nonResponse": 6.814449917898189
    },
    {
        "name": "Llama 3.1 405B",
        "confabulations": 11.89189189189189,
        "nonResponse": 20.81280788177339
    },
    {
        "name": "Llama 3.3 70B",
        "confabulations": 16.201117318435752,
        "nonResponse": 29.35817805383023
    },
    {
        "name": "Llama 3.1 70B",
        "confabulations": 13.513513513513509,
        "nonResponse": 31.40394088669951
    },
    {
        "name": "MiniMax-Text-01",
        "confabulations": 40.0,
        "nonResponse": 3.08529945553539
    },
    {
        "name": "Mistral Large 2",
        "confabulations": 30.810810810810814,
        "nonResponse": 9.1543513957307
    },
    {
        "name": "Mistral Small 3",
        "confabulations": 35.67567567567568,
        "nonResponse": 12.530915086562239
    },
    {
        "name": "Amazon Nova Pro",
        "confabulations": 51.35135135135135,
        "nonResponse": 5.80964153275649
    },
    {
        "name": "o1",
        "confabulations": 10.27027027027027,
        "nonResponse": 12.15106732348111
    },
    {
        "name": "o1-mini",
        "confabulations": 24.32432432432432,
        "nonResponse": 10.180623973727421
    },
    {
        "name": "o1-preview",
        "confabulations": 16.75675675675675,
        "nonResponse": 7.38916256157635
    },
    {
        "name": "o3-mini (medium reasoning)",
        "confabulations": 24.32432432432432,
        "nonResponse": 8.53858784893267
    },
    {
        "name": "Claude 3 Opus",
        "confabulations": 26.486486486486488,
        "nonResponse": 15.92775041050903
    },
    {
        "name": "Microsoft Phi-4",
        "confabulations": 48.60335195530726,
        "nonResponse": 5.95744680851063
    },
    {
        "name": "Qwen 2.5 72B",
        "confabulations": 30.270270270270274,
        "nonResponse": 5.78817733990147
    },
    {
        "name": "Qwen 2.5 Max",
        "confabulations": 28.10810810810811,
        "nonResponse": 12.28935470612412
    },
    {
        "name": "DeepSeek R1",
        "confabulations": 14.59459459459459,
        "nonResponse": 7.6669414674361
    },
    {
        "name": "Claude 3.5 Sonnet 2024-10-22",
        "confabulations": 11.89189189189189,
        "nonResponse": 27.750410509031198
    }
];

        const weightSlider = document.getElementById('weightSlider');
        const confabWeightValue = document.getElementById('confabWeightValue');
        const nonResponseWeightValue = document.getElementById('nonResponseWeightValue');
        const leaderboardBody = document.querySelector('#leaderboard tbody');
        let chart;

        function updateLeaderboard() {
            const confabWeight = parseInt(weightSlider.value) / 100;
            const nonResponseWeight = 1 - confabWeight;

            confabWeightValue.textContent = Math.round(confabWeight * 100);
            nonResponseWeightValue.textContent = Math.round(nonResponseWeight * 100);

            const sortedData = data.map(model => ({
                ...model,
                weightedScore: (model.confabulations * confabWeight + model.nonResponse * nonResponseWeight)
            })).sort((a, b) => a.weightedScore - b.weightedScore);

            leaderboardBody.innerHTML = '';
            sortedData.forEach((model, index) => {
                const row = leaderboardBody.insertRow();
                row.insertCell(0).textContent = index + 1;
                row.insertCell(1).textContent = model.name;
                row.insertCell(2).textContent = model.confabulations.toFixed(1);
                row.insertCell(3).textContent = model.nonResponse.toFixed(1);
                row.insertCell(4).textContent = model.weightedScore.toFixed(2);
            });

            updateChart(sortedData);
        }

        function updateChart(sortedData) {
            const ctx = document.getElementById('leaderboardChart').getContext('2d');
            
            if (chart) {
                chart.destroy();
            }

            chart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: sortedData.map(model => model.name),
                    datasets: [{
                        data: sortedData.map(model => model.weightedScore),
                        backgroundColor: 'rgba(187, 134, 252, 0.6)',
                        borderColor: 'rgba(187, 134, 252, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    animation: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            grid: {
                                color: '#333'
                            },
                            ticks: {
                                color: '#e0e0e0'
                            },
                            title: {
                                display: true,
                                text: 'Weighted Score (Lower is Better)',
                                color: '#e0e0e0'
                            }
                        },
                        y: {
                            grid: {
                                color: '#333'
                            },
                            ticks: {
                                color: '#e0e0e0'
                            }
                        }
                    }
                }
            });
        }

        weightSlider.addEventListener('input', updateLeaderboard);

        updateLeaderboard();
    </script>
</body>
</html>

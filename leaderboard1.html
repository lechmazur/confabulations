<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Leaderboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #121212;
            color: #e0e0e0;
        }
        h1, h2 {
            color: #bb86fc;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #333;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #1e1e1e;
        }
        .slider-container {
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #weightSlider {
            width: 300px;
            margin: 0 10px;
        }
        #chartContainer {
            margin-top: 20px;
            height: 600px;
        }
        .note {
            font-style: italic;
            color: #bb86fc;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Confabulations (Hallucinations) Model Leaderboard</h1>
    
    <div class="slider-container">
        <label>Confabulations Weight: <span id="confabWeightValue">50</span>%</label>
        <input type="range" id="weightSlider" min="0" max="100" value="50">
        <label>Non-Response Rate Weight: <span id="nonResponseWeightValue">50</span>%</label>
    </div>
    
    <table id="leaderboard">
        <thead>
            <tr>
                <th>Rank</th>
                <th>Model Name</th>
                <th>Confabulations (%)</th>
                <th>Non-Response Rate (%)</th>
                <th>Weighted Score</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <h2>Weighted Scores (Lower is Better)</h2>
    <div id="chartContainer">
        <canvas id="leaderboardChart"></canvas>
    </div>

    <script>
        const data = [
    {
        "name": "DeepSeek-V3",
        "short_model": "deepseek-fireworks",
        "confabulations": 24.257425742574252,
        "nonResponse": 16.2046908315565
    },
    {
        "name": "Gemini 1.5 Pro (Sept)",
        "short_model": "gemini",
        "confabulations": 16.83168316831683,
        "nonResponse": 9.91561181434599
    },
    {
        "name": "Gemini 2.0 Flash",
        "short_model": "gemini_20_flash",
        "confabulations": 24.257425742574252,
        "nonResponse": 30.78651685393258
    },
    {
        "name": "Gemini 2.0 Flash Think Exp 01-21",
        "short_model": "gemini_20_flash_thinking_exp_0121",
        "confabulations": 14.85148514851485,
        "nonResponse": 8.94854586129754
    },
    {
        "name": "Gemini 2.0 Pro Exp 02-05",
        "short_model": "gemini_20_pro_exp",
        "confabulations": 15.84158415841584,
        "nonResponse": 20.222222222222218
    },
    {
        "name": "Gemma 2 27B",
        "short_model": "gemma",
        "confabulations": 47.2636815920398,
        "nonResponse": 7.883817427385891
    },
    {
        "name": "GPT-4o",
        "short_model": "gpt-4o",
        "confabulations": 22.27722772277227,
        "nonResponse": 7.41573033707865
    },
    {
        "name": "GPT-4o mini",
        "short_model": "gpt-4o_mini",
        "confabulations": 60.89108910891089,
        "nonResponse": 14.47963800904977
    },
    {
        "name": "Grok 2 12-12",
        "short_model": "grok2-12-12",
        "confabulations": 25.742574257425737,
        "nonResponse": 17.62013729977116
    },
    {
        "name": "Claude 3.5 Haiku",
        "short_model": "haiku35",
        "confabulations": 65.84158415841584,
        "nonResponse": 11.5138592750533
    },
    {
        "name": "Llama 3.1 405B",
        "short_model": "llama",
        "confabulations": 14.35643564356435,
        "nonResponse": 24.89082969432314
    },
    {
        "name": "Llama 3.3 70B",
        "short_model": "llama33_70b",
        "confabulations": 17.82178217821782,
        "nonResponse": 27.2300469483568
    },
    {
        "name": "MiniMax-Text-01",
        "short_model": "minimax",
        "confabulations": 44.55445544554455,
        "nonResponse": 6.11353711790393
    },
    {
        "name": "Mistral Large 2",
        "short_model": "mistral",
        "confabulations": 32.17821782178218,
        "nonResponse": 13.25581395348837
    },
    {
        "name": "Mistral Small 3",
        "short_model": "mistral-small-2501",
        "confabulations": 38.61386138613861,
        "nonResponse": 10.42553191489361
    },
    {
        "name": "Amazon Nova Pro",
        "short_model": "nova-pro",
        "confabulations": 54.45544554455446,
        "nonResponse": 8.67469879518072
    },
    {
        "name": "o1",
        "short_model": "o1-2024-12-17",
        "confabulations": 10.89108910891089,
        "nonResponse": 10.70615034168565
    },
    {
        "name": "o1-mini",
        "short_model": "o1-mini",
        "confabulations": 26.237623762376238,
        "nonResponse": 12.12121212121212
    },
    {
        "name": "o3-mini (medium reasoning)",
        "short_model": "o3-mini",
        "confabulations": 27.22772277227723,
        "nonResponse": 8.16326530612244
    },
    {
        "name": "Microsoft Phi-4",
        "short_model": "phi-4",
        "confabulations": 52.475247524752476,
        "nonResponse": 6.25
    },
    {
        "name": "Qwen 2.5 72B",
        "short_model": "qwen",
        "confabulations": 32.17821782178218,
        "nonResponse": 5.7471264367816
    },
    {
        "name": "Qwen 2.5 Max",
        "short_model": "qwen-max",
        "confabulations": 31.18811881188119,
        "nonResponse": 13.77777777777777
    },
    {
        "name": "DeepSeek R1",
        "short_model": "r1-fireworks",
        "confabulations": 17.32673267326732,
        "nonResponse": 4.10958904109589
    },
    {
        "name": "Claude 3.5 Sonnet 2024-10-22",
        "short_model": "sonnet-20241022",
        "confabulations": 12.871287128712869,
        "nonResponse": 26.75438596491228
    }
];

        const weightSlider = document.getElementById('weightSlider');
        const confabWeightValue = document.getElementById('confabWeightValue');
        const nonResponseWeightValue = document.getElementById('nonResponseWeightValue');
        const leaderboardBody = document.querySelector('#leaderboard tbody');
        let chart;

        function updateLeaderboard() {
            const confabWeight = parseInt(weightSlider.value) / 100;
            const nonResponseWeight = 1 - confabWeight;

            confabWeightValue.textContent = Math.round(confabWeight * 100);
            nonResponseWeightValue.textContent = Math.round(nonResponseWeight * 100);

            const sortedData = data.map(model => ({
                ...model,
                weightedScore: (model.confabulations * confabWeight + model.nonResponse * nonResponseWeight)
            })).sort((a, b) => a.weightedScore - b.weightedScore);

            leaderboardBody.innerHTML = '';
            sortedData.forEach((model, index) => {
                const row = leaderboardBody.insertRow();
                row.insertCell(0).textContent = index + 1;
                row.insertCell(1).textContent = model.name;
                row.insertCell(2).textContent = model.confabulations.toFixed(1);
                row.insertCell(3).textContent = model.nonResponse.toFixed(1);
                row.insertCell(4).textContent = model.weightedScore.toFixed(2);
            });

            updateChart(sortedData);
        }

        function updateChart(sortedData) {
            const ctx = document.getElementById('leaderboardChart').getContext('2d');
            
            if (chart) {
                chart.destroy();
            }

            chart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: sortedData.map(model => model.name),
                    datasets: [{
                        data: sortedData.map(model => model.weightedScore),
                        backgroundColor: 'rgba(187, 134, 252, 0.6)',
                        borderColor: 'rgba(187, 134, 252, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    animation: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            grid: {
                                color: '#333'
                            },
                            ticks: {
                                color: '#e0e0e0'
                            },
                            title: {
                                display: true,
                                text: 'Weighted Score (Lower is Better)',
                                color: '#e0e0e0'
                            }
                        },
                        y: {
                            grid: {
                                color: '#333'
                            },
                            ticks: {
                                color: '#e0e0e0'
                            }
                        }
                    }
                }
            });
        }

        weightSlider.addEventListener('input', updateLeaderboard);

        updateLeaderboard();
    </script>
</body>
</html>
